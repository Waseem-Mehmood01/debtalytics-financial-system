
		<!-- BACK-TO-TOP -->
		<a href="#top" id="back-to-top"><i class="fa fa-angle-up"></i></a>

		<!-- JQUERY JS -->
		<!-- <script src="<?php echo SITE_ROOT;  ?>assets/js/jquery.min.js"></script> -->

		<!-- BOOTSTRAP JS -->
		<script src="<?php echo SITE_ROOT;  ?>assets/plugins/bootstrap/js/popper.min.js"></script>
		<script src="<?php echo SITE_ROOT;  ?>assets/plugins/bootstrap/js/bootstrap.min.js"></script>

		<!-- SIDE-MENU JS -->
		<script src="<?php echo SITE_ROOT;  ?>assets/plugins/sidemenu/sidemenu.js"></script>

		<!-- TYPEHEAD JS -->
		<script src="<?php echo SITE_ROOT;  ?>assets/plugins/bootstrap5-typehead/autocomplete.js"></script>
		<script src="<?php echo SITE_ROOT;  ?>assets/js/typehead.js"></script>

		<!-- SIDEBAR JS -->
		<script src="<?php echo SITE_ROOT;  ?>assets/plugins/sidebar/sidebar.js"></script>

		<!-- PERFECT SCROLLBAR JS-->
		<script src="<?php echo SITE_ROOT;  ?>assets/plugins/p-scroll/perfect-scrollbar.js"></script>
		<script src="<?php echo SITE_ROOT;  ?>assets/plugins/p-scroll/pscroll.js"></script>
		<script src="<?php echo SITE_ROOT;  ?>assets/plugins/p-scroll/pscroll-1.js"></script>

		<!-- STICKEY JS -->
		<script src="<?php echo SITE_ROOT;  ?>assets/js/sticky.js"></script>

		<!-- <script src="<?php echo SITE_ROOT;  ?>assets/js/chart.js"></script> -->
		
		<!-- INTERNAL SELECT2 JS -->
        <script src="<?php echo SITE_ROOT;  ?>assets/plugins/select2/select2.full.min.js"></script>










		<!-- C3 CHART JS  -->
        <script src="<?php echo SITE_ROOT;  ?>assets/plugins/charts-c3/d3.v5.min.js"></script>
        <script src="<?php echo SITE_ROOT;  ?>assets/plugins/charts-c3/c3-chart.js"></script>

        <!-- INPUT MASK JS -->
        <script src="<?php echo SITE_ROOT;  ?>assets/plugins/input-mask/jquery.mask.min.js"></script>

        <!-- FLOT JS -->
        <script src="<?php echo SITE_ROOT;  ?>assets/plugins/flot/jquery.flot.js"></script>
        <script src="<?php echo SITE_ROOT;  ?>assets/plugins/flot/jquery.flot.fillbetween.js"></script>
        <script src="<?php echo SITE_ROOT;  ?>assets/plugins/flot/jquery.flot.pie.js"></script>
        <script src="<?php echo SITE_ROOT;  ?>assets/plugins/flot/jquery.flot.resize.js"></script>
		<script src="<?php echo SITE_ROOT;  ?>assets/js/flot.js"></script>

<!-- ECHART JS -->
<script src="<?php echo SITE_ROOT;  ?>assets/js/echarts.js"></script>
        <script src="<?php echo SITE_ROOT;  ?>assets/plugins/echarts/echarts.js"></script>










        <!-- DATA TABLE JS-->
        <script src="<?php echo SITE_ROOT;  ?>assets/plugins/datatable/js/jquery.dataTables.min.js"></script>
        <script src="<?php echo SITE_ROOT;  ?>assets/plugins/datatable/js/dataTables.bootstrap5.js"></script>
        <script src="<?php echo SITE_ROOT;  ?>assets/plugins/datatable/js/dataTables.buttons.min.js"></script>
        <script src="<?php echo SITE_ROOT;  ?>assets/plugins/datatable/js/buttons.bootstrap5.min.js"></script>
        <script src="<?php echo SITE_ROOT;  ?>assets/plugins/datatable/js/jszip.min.js"></script>
        <script src="<?php echo SITE_ROOT;  ?>assets/plugins/datatable/pdfmake/pdfmake.min.js"></script>
        <script src="<?php echo SITE_ROOT;  ?>assets/plugins/datatable/pdfmake/vfs_fonts.js"></script>
        <script src="<?php echo SITE_ROOT;  ?>assets/plugins/datatable/js/buttons.html5.min.js"></script>
        <script src="<?php echo SITE_ROOT;  ?>assets/plugins/datatable/js/buttons.print.min.js"></script>
        <script src="<?php echo SITE_ROOT;  ?>assets/plugins/datatable/js/buttons.colVis.min.js"></script>
        <script src="<?php echo SITE_ROOT;  ?>assets/plugins/datatable/dataTables.responsive.min.js"></script>
        <script src="<?php echo SITE_ROOT;  ?>assets/plugins/datatable/responsive.bootstrap5.min.js"></script>
        <script src="<?php echo SITE_ROOT;  ?>assets/js/table-data.js"></script> 
		<!--<link href="https://cdn.datatables.net/v/bs5/jszip-2.5.0/dt-1.13.3/af-2.5.2/b-2.3.5/b-colvis-2.3.5/b-html5-2.3.5/b-print-2.3.5/cr-1.6.1/date-1.3.1/fc-4.2.1/fh-3.3.1/kt-2.8.1/r-2.4.0/rg-1.3.0/rr-1.3.2/sc-2.1.0/sb-1.4.0/sp-2.1.1/sl-1.6.1/sr-1.2.1/datatables.min.css"/>
 
<script src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.36/pdfmake.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.36/vfs_fonts.js"></script>
<script src="https://cdn.datatables.net/v/bs5/jszip-2.5.0/dt-1.13.3/af-2.5.2/b-2.3.5/b-colvis-2.3.5/b-html5-2.3.5/b-print-2.3.5/cr-1.6.1/date-1.3.1/fc-4.2.1/fh-3.3.1/kt-2.8.1/r-2.4.0/rg-1.3.0/rr-1.3.2/sc-2.1.0/sb-1.4.0/sp-2.1.1/sl-1.6.1/sr-1.2.1/datatables.min.js"></script>
-->
<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.4.0/Chart.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/apexcharts"></script>










<!-- SELECT2 JS -->
        <script src="<?php echo SITE_ROOT;  ?>assets/plugins/select2/select2.full.min.js"></script>
        <script src="<?php echo SITE_ROOT;  ?>assets/js/select2.js"></script>

        <!-- BOOTSTRAP-DATERANGEPICKER JS -->
        <script src="<?php echo SITE_ROOT;  ?>assets/plugins/bootstrap-daterangepicker/moment.min.js"></script>
        <script src="<?php echo SITE_ROOT;  ?>assets/plugins/bootstrap-daterangepicker/daterangepicker.js"></script>

        <!-- INTERNAL BOOTSTRAP-DATEPICKER JS -->
        <script src="<?php echo SITE_ROOT;  ?>assets/plugins/bootstrap-datepicker/bootstrap-datepicker.js"></script>

        <!-- INTERNAL SUMOSELECT JS -->
        <script src="<?php echo SITE_ROOT;  ?>assets/plugins/sumoselect/jquery.sumoselect.js"></script>

        <!-- TIMEPICKER JS -->
        <script src="<?php echo SITE_ROOT;  ?>assets/plugins/time-picker/jquery.timepicker.js"></script>
        <script src="<?php echo SITE_ROOT;  ?>assets/plugins/time-picker/toggles.min.js"></script>

        <!-- INTERNAL INTLTELINPUT JS -->
        <script src="<?php echo SITE_ROOT;  ?>assets/plugins/intl-tel-input-master/intlTelInput.js"></script>
        <script src="<?php echo SITE_ROOT;  ?>assets/plugins/intl-tel-input-master/country-select.js"></script>
        <script src="<?php echo SITE_ROOT;  ?>assets/plugins/intl-tel-input-master/utils.js"></script>

        <!-- INTERNAL jQUERY TRANSFER JS -->
        <script src="<?php echo SITE_ROOT;  ?>assets/plugins/jQuerytransfer/jquery.transfer.js"></script>

        <!-- INTERNAL MULTI JS -->
        <script src="<?php echo SITE_ROOT;  ?>assets/plugins/multi/multi.min.js"></script>

        <!-- DATEPICKER JS -->
        <script src="<?php echo SITE_ROOT;  ?>assets/plugins/date-picker/date-picker.js"></script>
        <script src="<?php echo SITE_ROOT;  ?>assets/plugins/date-picker/jquery-ui.js"></script>
        <script src="<?php echo SITE_ROOT;  ?>assets/plugins/input-mask/jquery.maskedinput.js"></script>

        <!-- COLOR PICKER JS -->
        <script src="<?php echo SITE_ROOT;  ?>assets/plugins/pickr-master/pickr.es5.min.js"></script>
        <script src="<?php echo SITE_ROOT;  ?>assets/js/picker.js"></script>

        <!-- MULTI SELECT JS-->
        <script src="<?php echo SITE_ROOT;  ?>assets/plugins/multipleselect/multiple-select.js"></script>
        <script src="<?php echo SITE_ROOT;  ?>assets/plugins/multipleselect/multi-select.js"></script>

        <!-- FORMELEMENTS JS -->
        <script src="<?php echo SITE_ROOT;  ?>assets/js/formelementadvnced.js"></script>
        <script src="<?php echo SITE_ROOT;  ?>assets/js/form-elements.js"></script>



		  <!-- TIME COUNTER JS-->
         <script src="<?php echo SITE_ROOT;  ?>assets/plugins/counters/jquery.missofis-countdown.js"></script>
        <script src="<?php echo SITE_ROOT;  ?>assets/plugins/counters/counter.js"></script>

        <!-- COUNT-DOWN JS-->
        <script src="<?php echo SITE_ROOT;  ?>assets/plugins/counters/count-down.js"></script>
        <script src="<?php echo SITE_ROOT;  ?>assets/plugins/countdown/moment.min.js"></script>
        <script src="<?php echo SITE_ROOT;  ?>assets/plugins/countdown/moment-timezone.min.js"></script>
        <script src="<?php echo SITE_ROOT;  ?>assets/plugins/countdown/moment-timezone-with-data.min.js"></script>
        <script src="<?php echo SITE_ROOT;  ?>assets/plugins/countdown/countdowntime.js"></script>

        <!-- COUNTERS JS-->
        <script src="<?php echo SITE_ROOT;  ?>assets/plugins/counters/counterup.min.js"></script>
        <script src="<?php echo SITE_ROOT;  ?>assets/plugins/counters/waypoints.min.js"></script>
        <script src="<?php echo SITE_ROOT;  ?>assets/plugins/counters/counters-1.js"></script>
<script src="<?php echo SITE_ROOT;  ?>assets/js/circle-progress.min.js"></script>
        <script src="<?php echo SITE_ROOT;  ?>assets/js/widget.js"></script>






<!-- SWEET-ALERT JS -->
<script src="<?php echo SITE_ROOT;  ?>assets/plugins/sweet-alert/sweetalert.min.js"></script>
        <!-- <script src="<?php echo SITE_ROOT;  ?>assets/js/sweet-alert.js"></script> -->

<script>
                $(document).on("click", "#delete_sale", function(e) {
					e.preventDefault();
                var id = jQuery(this).attr('data-id');
				var table_name = jQuery(this).attr('data-table');
				var col_name = jQuery(this).attr('data-col');
                $('body').removeClass('timer-alert');
                swal({
                    title: "Delete Alert",
                    text: "Are you sure! You want to delete this Deal?",
                    type: "error",
                    showCancelButton: true,
                    confirmButtonText: 'Delete',
                    cancelButtonText: 'Cancel'
                }, function(){
                    window.location.href = "?route=modules/dataentry/delete_deal&"+col_name+"="+id;
                });
            });
	$(document).on("click", "#delete_matrics", function(e) {
					e.preventDefault();
                var id = jQuery(this).attr('data-id');
				var table_name = jQuery(this).attr('data-table');
				var col_name = jQuery(this).attr('data-col');
                $('body').removeClass('timer-alert');
                swal({
                    title: "Delete Alert",
                    text: "Are you sure! You want to delete this Deal?",
                    type: "error",
                    showCancelButton: true,
                    confirmButtonText: 'Delete',
                    cancelButtonText: 'Cancel'
                }, function(){
                    window.location.href = "?route=modules/dataentry/delete_matric&"+col_name+"="+id;
                });
            });
	//+"&table_name="+table_name+"&col_name="+col_name
			
</script>
<script>
        $(document).ready(function(){
			$(document).on('change', '.status_swithcer', function() {
				var sale_id = jQuery(this).attr('data-val');
				window.location.href = "?route=modules/dataentry/update_status&sale_id="+sale_id+"&status="+jQuery(this).val();
			});
            var dataTable = $('#empTable').DataTable({
                'processing': true,
                'serverSide': true,
                'serverMethod': 'post',
				"bSort": true,
				"responsive": true,
				"order": [[ 5, "desc" ]],
                'searching': false, // Remove default Search Control
                'ajax': {
                    'url':'./ajax_helpers/get_sales_data.php',
                    'data': function(data){
						// jQuery("#Search").on("click",function(){
							var back_office = $('#back_office').val();
							var name = $('#searchByName').val();
							var last_name = $('#lastName').val();
							var account_id = $("#account_id").val();
							var cancel_date = $("#cancel_date").val();
							// Append to data
							data.back_office = back_office;
							data.searchByName = name;
						    data.lastName = last_name;
							data.account_id = account_id;
							data.cancel_date = cancel_date;

						// });
                        // Read values
                    }
                },
                'columns': [
                    { data: 'sale_id' },
                    { data: 'Date Signed' },
                    { data: 'Account ID' },
                    { data: 'RefID' },
                    { data: 'First Name' },
					{ data: 'Last Name' },
                    { data: 'State' },
                    { data: 'Debt AMT' },
                    { data: 'Contract Length' },
                    { data: 'Type of Payment' },
					{data: 'Back Office'},
					{ data: 'Rep' },
                    { data: 'Manager' },
					{ data: '1CC'},
					{ data: 'Status'},
                    <?php //if($_SESSION['role_id'] != 4 AND $_SESSION['role_id'] != 5){ ?>
                    { data: 'Actions' },
                    <?php //}?>
                ]
            });
			jQuery("#Search").on("click",function(){
				    dataTable.draw();
            });

            var dataTableMatric = $('#matrics_table').DataTable({
                'processing': true,
                'serverSide': true,
				"responsive": true,
                'serverMethod': 'post',
                //'searching': false, // Remove default Search Control
                'ajax': {
                    'url':'./ajax_helpers/get_matrics_data.php',
                    'data': function(data){
						// jQuery("#SearchMatric").on("click",function(){
                            var start_date = jQuery("#start_date").val();
                            var end_date = jQuery("#end_date").val();
                            var agents = jQuery("#agents").val();
                            // console.log(agents);
							// Append to data
							data.start_date = start_date;
							data.end_date = end_date;
							data.agents = agents;
						// });
                        // Read values
                    }
                },
                'columns': [
                    { data: 'Date' },
					{ data: 'Day' },
                    { data: 'Agent' },
                    { data: 'Inbound Apps' },
                    { data: 'Out Bound Apps' },
                    { data: 'Inbound New Leads' },
					{ data: 'Today Schedule Pitched' },
                    { data: 'Sameday Pitches' },
                    { data: 'Pitches Completed' },
                    { data: '# of 1CC' },
                    { data: '# Of Deals' },
					{ data: '# Of New Untouched Leads' },
                    { data: 'Total Apps' },
                    { data: 'Previous Scheduled to pitch %' },
                    { data: 'Pitch to close %' },
                    { data: '% of 1CC deals' },
					<?php if($_SESSION['role_id'] != 4 OR $_SESSION['role_id'] != 5){ ?>
                    { data: 'Actions' },
                    <?php }?>
                ]
            });

            // $('#searchByName').keyup(function(){
            //     dataTable.draw();
            // });

            // $('#payment_type').change(function(){
            //     dataTable.draw();
            // });
			
			
			//dataTable1.draw();
			jQuery("#SearchMatric").on("click",function(){
                dataTableMatric.draw();
            });
        });
        </script>

		<script>
/* Bar-Chart1 */
jQuery.ajax({
	method:"post",
	url:"ajax_helpers/get_chart_data.php",
	data:{opt:'get_company_agents_chart_data'},
	success:function(data){
		// console.log(data);
		var obj = jQuery.parseJSON(data);
		// console.log(obj);
		var labels = new Array();
		var datasets = new Array();
        
		jQuery.each(obj.data, function(index, item) {
			// console.log(obj.data[index].agent_name);
			labels.push(obj.data[index].agent_name);
			datasets.push(obj.data[index].total_amount);
		});
		
		agent_chart(labels,datasets);
		
	}
});

function agent_chart(labels = new array(),datasets = new array()){
	
	var ctx = document.getElementById("agentSalesChart").getContext('2d');
    var myChart = new Chart(ctx, {
        type: 'bar',
        data: {
            labels: labels,
            datasets: [{
                label: 'Sales',
                data: datasets,
                borderWidth: 2,
                backgroundColor: '#6c5ffc',
                borderColor: '#6c5ffc',
                borderWidth:0,
                pointBackgroundColor: '#ffffff',
                barPercentage:.4,

            }]
        },
        options: {
            responsive: true,
            maintainAspectRatio: false,
            legend: {
                display: true
            },
            scales: {
                y: {
                    ticks: {
                        beginAtZero: true,
                        stepSize: 150,
                        color: '#9ba6b5'
                    },
                    grid: {
                        color: "rgba(119, 119, 142, 0.1)",
                        borderColor:"rgba(119, 119, 142, 0.1)" 
                      },
                    gridLines: {
                        color: 'rgba(119, 119, 142, 0.2)'
                    },
                },
                x: {
                    barPercentage: 0.4,
                    barValueSpacing: 0,
                    barDatasetSpacing: 0,
                    barRadius: 0,
                    ticks: {
                        display: true,
                        color: '#9ba6b5'
                    },
                    grid: {
                        color: "rgba(119, 119, 142, 0.1)",
                        borderColor: "rgba(119, 119, 142, 0.1)" 
                      },
                    gridLines: {
                        display: false,
                        color: 'rgba(119, 119, 142, 0.1)'
                    },
                    scaleLabel: {
                        fontColor: 'rgba(119, 119, 142, 0.1)'
                    }
                }
            },
            plugins:{
            legend: {
                labels: {
                    color: "#9ba6b5"
                },
            },
        },
        }
    });
}






jQuery.ajax({
	method:"post",
	url:"ajax_helpers/get_chart_data.php",
	data:{opt:'get_company_net_worth'},
	success:function(data){
		// console.log(data);
		var obj = jQuery.parseJSON(data);
		var datasets = new Array();

			datasets.push(obj[0].total_sale);
            datasets.push(obj[0].total_cancel);
            datasets.push(obj[0].total_amount);

        net_worth(datasets);
		
	}
});
/* Pie Chart*/
function net_worth(datasets = new array()){
var ctx7 = document.getElementById('net_worth').getContext('2d');
const data = {
  labels: [
    'Total Sales',
    'Total Cancel Sales',
    'Net Worth'
  ],
  datasets: [{
    data: datasets,
    backgroundColor: [
      'rgb(255, 99, 132)',
      'rgb(54, 162, 235)',
      'rgb(255, 205, 86)'
    ],
    hoverOffset: 4
  }]
};
    var myPieChart7 = new Chart(ctx7, {
        type: 'doughnut',
        data: data,
        // options: optionpie
    });
}
  

</script>
<?php 
// ðŸ‘‡ create DateTime object from current time
 $date = new DateTime();

// ðŸ‘‡ modify the date
 $date->modify("last day of this month");

 $today = new DateTime();
 $lastDayOfThisMonth = new DateTime('last day of this month');
// ðŸ‘‡ format and print the date
 $current_month_last_date = $date->format("Y-m-d"); // 2022-09-30 Friday

 $nbOfDaysRemainingThisMonth =  $lastDayOfThisMonth->diff($today)->format('%a days');

 $dateTime = strtotime("$current_month_last_date, 24:00:00");
 $getDateTime = date("F d, Y H:i:s", $dateTime); 
?>
<!-- Script -->
<script>
        var countDownTimer = new Date("<?php echo "$getDateTime"; ?>").getTime();
        // Update the count down every 1 second
        var interval = setInterval(function() {
            var current = new Date().getTime();
            // Find the difference between current and the count down date
            var diff = countDownTimer - current;
            // Countdown Time calculation for days, hours, minutes and seconds
            var days = Math.floor(diff / (1000 * 60 * 60 * 24));
            var hours = Math.floor((diff % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
            var minutes = Math.floor((diff % (1000 * 60 * 60)) / (1000 * 60));
            var seconds = Math.floor((diff % (1000 * 60)) / 1000);

            document.getElementById("counter").innerHTML = days + "Day : " + hours + "h " +
            minutes + "m " + seconds + "s ";
            document.getElementById("remainingDays").innerHTML = "<?php echo $nbOfDaysRemainingThisMonth; ?> Remaining";
            document.getElementById("hurry").innerHTML = "Hurry Up!";
            // Display Expired, if the count down is over
            if (diff < 0) {
                clearInterval(interval);
                document.getElementById("counter").innerHTML = "<?php echo $nbOfDaysRemainingThisMonth; ?>";
                document.getElementById("remainingDays").innerHTML = "<?php echo $nbOfDaysRemainingThisMonth; ?>";
                document.getElementById("hurry").innerHTML = "Month END";
            }
        }, 1000);
</script>